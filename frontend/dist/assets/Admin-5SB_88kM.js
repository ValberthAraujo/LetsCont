import{r as t,a as b,u as F,j as e,H as w,F as y,b as m,d as h,e as p,S as E}from"./index-0fLGo3W8.js";import{s}from"./admin.module-BibDxh5X.js";function L(){const[n,x]=t.useState(""),[o,j]=t.useState(""),[l,c]=t.useState(!1),[d,u]=t.useState(""),[g,i]=t.useState(!1),a=b(),f=F(),S=async r=>{r.preventDefault(),u(""),i(!1),c(!0);try{await a.login(n,o),i(!0),f("/admin/painel",{replace:!0})}catch(N){u(N?.message||"Falha no login. Verifique suas credenciais.")}finally{c(!1)}},v=()=>{a.logout(),i(!1)};return e.jsx("main",{children:e.jsxs("section",{className:s.adminSection,children:[e.jsx(w,{}),e.jsxs("div",{className:s.container,children:[e.jsxs("header",{className:s.header,children:[e.jsx("h1",{className:"titulo",children:"Login Administrativo"}),e.jsx("p",{className:"descricao",children:"Acesse para gerenciar o conteúdo."})]}),a.isAuthenticated?e.jsxs("div",{className:s.loginCard,children:[e.jsxs("p",{children:["Você já está autenticado como ",e.jsx("strong",{children:a.user?.email}),"."]}),e.jsxs("p",{children:["Nome: ",a.user?.full_name||a.user?.email||"-"]}),e.jsx("button",{type:"button",className:s.primaryButton,onClick:v,children:"Sair"})]}):e.jsxs(y,{className:s.registrationForm,onSubmit:S,children:[e.jsxs(m,{children:[e.jsx(h,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",value:n,onChange:r=>x(r.target.value),placeholder:"seu@email.com",autoComplete:"email",required:!0})]}),e.jsxs(m,{children:[e.jsx(h,{htmlFor:"password",children:"Senha"}),e.jsx(p,{id:"password",type:"password",value:o,onChange:r=>j(r.target.value),placeholder:"sua senha",autoComplete:"current-password",required:!0})]}),d&&e.jsx("div",{className:s.error,children:d}),g&&e.jsx("div",{className:s.success,children:"Login efetuado com sucesso."}),e.jsx(E,{disabled:l,children:l?"Entrando...":"Entrar"})]})]})]})})}export{L as Admin};
